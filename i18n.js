const translations = {
  en: {
    'site-title': 'ADHD Tools Hub',
    'tagline': 'Interactive tools to help manage ADHD symptoms and improve productivity',
    'nav-home': 'Home',
    'nav-pomodoro': 'Pomodoro Timer',
    'nav-eisenhower': 'Eisenhower Matrix',
    'nav-planner': 'Day Planner',
    'nav-calendar': 'Calendar',
    'nav-tasks': 'Task Manager',
    'nav-breakdown': 'Task Breakdown',
    'nav-habits': 'Habit Tracker',
    'nav-routine': 'Routine Tool',
    'nav-focus': 'Focus Mode',
    'nav-rewards': 'Rewards',
    'nav-about': 'About',
    'home-heading': 'Welcome to ADHD Tools Hub',
    'home-text': 'This website provides a collection of interactive tools designed specifically to help individuals with ADHD manage their symptoms, improve productivity, and enhance focus.',
    'card-pomodoro': 'Pomodoro Timer',
    'card-eisenhower': 'Eisenhower Matrix',
    'card-planner': 'Day Planner',
    'card-calendar': 'Calendar',
    'card-tasks': 'Task Manager',
    'card-breakdown': 'Task Breakdown',
    'card-habits': 'Habit Tracker',
    'card-routine': 'Routine Tool',
    'card-focus': 'Focus Mode',
    'card-rewards': 'Rewards',
    'pomodoro-heading': 'Pomodoro Timer',
    'pomodoro-text': 'The Pomodoro Technique helps you work with time, instead of against it. Break your workday into 25-minute chunks separated by five-minute breaks.',
    'eisenhower-heading': 'Eisenhower Matrix',
    'eisenhower-text': 'Prioritize your tasks based on their importance and urgency. This helps you focus on what truly matters.',
    'planner-heading': 'Day Planner',
    'planner-text': 'Visualize your day with time blocks for better time management. Plan your activities hour by hour to stay organized.',
    'calendar-heading': 'Calendar',
    'calendar-text': 'Import calendar events from ICS files and manage them with other tools.',
    'calendar-voice-label': 'Voice alerts',
    'calendar-voice-early-label': 'Minutes early:',
    'calendar-announcement-now': 'Event "{title}" is starting now.',
    'calendar-announcement-soon': 'Event "{title}" starts in {minutes} minutes.',
    'tasks-heading': 'Task Manager',
    'tasks-text': 'Keep track of your to-do list with priorities and categories. Organize your tasks to ensure nothing falls through the cracks.',
    'breakdown-heading': 'Task Breakdown',
    'breakdown-text': 'Break complex tasks into smaller, manageable steps. This helps reduce overwhelm and makes progress more visible.',
    'habits-heading': 'Habit Tracker',
    'habits-text': 'Build consistency with daily habit tracking and streaks. Visualize your progress and stay motivated.',
    'focus-heading': 'Focus Mode',
    'focus-text': 'Minimize distractions with a clean, focused interface. Create a distraction-free environment for deep work.',
    'rewards-heading': 'Rewards',
    'rewards-text': 'Celebrate your accomplishments with visual rewards. Positive reinforcement helps build motivation and consistency.',
    'about-heading': 'About ADHD Tools Hub',
    'about-text': 'ADHD Tools Hub is a collection of interactive tools designed to help individuals with ADHD manage their symptoms, improve productivity, and enhance focus.',
    'about-privacy-heading': 'Privacy',
    'about-privacy-text': 'All data is stored locally in your browser. Nothing is sent to any server, ensuring your information remains private.',
    'about-feedback-heading': 'Feedback',
    'about-feedback-text': "We're constantly working to improve these tools. If you have suggestions or feedback, please let us know!",
    'routine-heading': 'Routine Tool',
    'routine-text': 'Create, manage, and run daily routines with timed tasks.',
    'routine-run-btn': 'Run Routine',
    'routine-manage-btn': 'Manage Routines',
    'routine-manage-heading': 'Create & Manage Routines',
    'routine-name-label': 'Routine Name:',
    'routine-create-btn': 'Create Routine',
    'routine-select-label': 'Select Routine:',
    'routine-add-tasks-heading': 'Add Tasks to Selected Routine',
    'routine-task-name-label': 'Task Name:',
    'routine-task-duration-label': 'Task Duration (minutes):',
    'routine-add-task-btn': 'Add Task',
    'routine-start-time-label': 'Set Auto Start Time (optional):',
    'routine-set-time-btn': 'Set Time',
    'routine-active-heading': 'Active Routine',
    'routine-none-active': 'No routine selected/active',
    'routine-finish-time': 'Expected Finish Time: <span id="expected-finish-time">-</span>',
    'routine-start-btn': 'Start Selected Routine',
    'routine-current-task': 'Current Task: <span id="current-task-name">-</span>',
    'routine-time-left': 'Time Remaining: <span id="current-task-time-left">-</span>',
    'routine-instruction': 'Tap the screen or press SPACEBAR to mark the current task as done.',
    'footer-text': '&copy; 2025 ADHD Tools Hub. All tools are free to use and data is stored locally in your browser.'
  },
  fr: {
    'site-title': 'Centre d\'outils TDAH',
    'tagline': "Outils interactifs pour aider à gérer les symptômes du TDAH et améliorer la productivité",
    'nav-home': 'Accueil',
    'nav-pomodoro': 'Minuteur Pomodoro',
    'nav-eisenhower': 'Matrice d\'Eisenhower',
    'nav-planner': 'Planificateur',
    'nav-calendar': 'Calendrier',
    'nav-tasks': 'Gestionnaire de tâches',
    'nav-breakdown': 'Décomposition des tâches',
    'nav-habits': 'Suivi des habitudes',
    'nav-routine': 'Routine',
    'nav-focus': 'Mode Focus',
    'nav-rewards': 'Récompenses',
    'nav-about': 'À propos',
    'home-heading': 'Bienvenue sur le Centre d\'outils TDAH',
    'home-text': "Ce site propose une collection d'outils interactifs conçus pour aider les personnes ayant un TDAH à gérer leurs symptômes, améliorer leur productivité et renforcer leur concentration.",
    'card-pomodoro': 'Minuteur Pomodoro',
    'card-eisenhower': "Matrice d'Eisenhower",
    'card-planner': 'Planificateur',
    'card-calendar': 'Calendrier',
    'card-tasks': 'Gestionnaire de tâches',
    'card-breakdown': 'Décomposition',
    'card-habits': 'Suivi des habitudes',
    'card-routine': 'Routine',
    'card-focus': 'Mode Focus',
    'card-rewards': 'Récompenses',
    'pomodoro-heading': 'Minuteur Pomodoro',
    'pomodoro-text': "La technique Pomodoro vous aide à travailler avec le temps plutôt que contre lui. Divisez votre journée de travail en sessions de 25 minutes séparées par des pauses de cinq minutes.",
    'eisenhower-heading': "Matrice d'Eisenhower",
    'eisenhower-text': "Priorisez vos tâches selon leur importance et leur urgence. Cela vous aide à vous concentrer sur l'essentiel.",
    'planner-heading': 'Planificateur',
    'planner-text': "Visualisez votre journée avec des blocs de temps pour mieux la gérer. Planifiez vos activités heure par heure pour rester organisé.",
    'calendar-heading': 'Calendrier',
    'calendar-text': 'Importez des événements au format ICS et gérez-les avec les autres outils.',
    'calendar-voice-label': 'Alertes vocales',
    'calendar-voice-early-label': 'Minutes avant :',
    'calendar-announcement-now': "L'événement \"{title}\" commence maintenant.",
    'calendar-announcement-soon': "L'événement \"{title}\" commence dans {minutes} minutes.",
    'tasks-heading': 'Gestionnaire de tâches',
    'tasks-text': "Suivez vos tâches avec des priorités et des catégories. Organisez-les pour n'en oublier aucune.",
    'breakdown-heading': 'Décomposition des tâches',
    'breakdown-text': 'Découpez les tâches complexes en étapes plus petites pour réduire la surcharge et voir les progrès.',
    'habits-heading': 'Suivi des habitudes',
    'habits-text': 'Développez votre constance grâce au suivi quotidien et visualisez vos progrès.',
    'focus-heading': 'Mode Focus',
    'focus-text': 'Minimisez les distractions grâce à une interface épurée propice au travail concentré.',
    'rewards-heading': 'Récompenses',
    'rewards-text': 'Célébrez vos réussites avec des récompenses visuelles pour renforcer la motivation.',
    'about-heading': "À propos du Centre d'outils TDAH",
    'about-text': "Le Centre d'outils TDAH est une collection d'outils interactifs pour aider à gérer les symptômes du TDAH, améliorer la productivité et renforcer la concentration.",
    'about-privacy-heading': 'Confidentialité',
    'about-privacy-text': 'Toutes les données sont stockées localement dans votre navigateur. Rien n\'est envoyé à un serveur.',
    'about-feedback-heading': 'Retour',
    'about-feedback-text': "Nous travaillons constamment à l'amélioration de ces outils. Si vous avez des suggestions, faites-le nous savoir !",
    'routine-heading': 'Routine',
    'routine-text': 'Créez, gérez et exécutez des routines quotidiennes avec des tâches minutées.',
    'routine-run-btn': 'Lancer la routine',
    'routine-manage-btn': 'Gérer les routines',
    'routine-manage-heading': 'Créer et gérer les routines',
    'routine-name-label': 'Nom de la routine :',
    'routine-create-btn': 'Créer',
    'routine-select-label': 'Sélectionner la routine :',
    'routine-add-tasks-heading': 'Ajouter des tâches',
    'routine-task-name-label': 'Nom de la tâche :',
    'routine-task-duration-label': 'Durée de la tâche (minutes) :',
    'routine-add-task-btn': 'Ajouter',
    'routine-start-time-label': 'Heure de démarrage automatique (optionnel) :',
    'routine-set-time-btn': 'Définir',
    'routine-active-heading': 'Routine active',
    'routine-none-active': 'Aucune routine sélectionnée',
    'routine-finish-time': 'Heure de fin prévue : <span id="expected-finish-time">-</span>',
    'routine-start-btn': 'Démarrer la routine sélectionnée',
    'routine-current-task': 'Tâche en cours : <span id="current-task-name">-</span>',
    'routine-time-left': 'Temps restant : <span id="current-task-time-left">-</span>',
    'routine-instruction': 'Touchez l\'écran ou appuyez sur ESPACE pour marquer la tâche comme terminée.',
    'footer-text': '&copy; 2025 Centre d\'outils TDAH. Tous les outils sont gratuits et les données sont stockées localement dans votre navigateur.'
  },
  de: {
    'site-title': 'ADHS Werkzeugkasten',
    'tagline': 'Interaktive Werkzeuge zur Bewältigung von ADHS-Symptomen und zur Steigerung der Produktivität',
    'nav-home': 'Startseite',
    'nav-pomodoro': 'Pomodoro-Timer',
    'nav-eisenhower': 'Eisenhower-Matrix',
    'nav-planner': 'Tagesplaner',
    'nav-calendar': 'Kalender',
    'nav-tasks': 'Aufgabenmanager',
    'nav-breakdown': 'Aufgaben zerlegen',
    'nav-habits': 'Gewohnheiten',
    'nav-routine': 'Routine',
    'nav-focus': 'Fokusmodus',
    'nav-rewards': 'Belohnungen',
    'nav-about': 'Über',
    'home-heading': 'Willkommen beim ADHS Werkzeugkasten',
    'home-text': 'Diese Website bietet interaktive Werkzeuge, die Menschen mit ADHS helfen sollen, ihre Symptome zu managen, die Produktivität zu steigern und den Fokus zu verbessern.',
    'card-pomodoro': 'Pomodoro-Timer',
    'card-eisenhower': 'Eisenhower-Matrix',
    'card-planner': 'Tagesplaner',
    'card-calendar': 'Kalender',
    'card-tasks': 'Aufgabenmanager',
    'card-breakdown': 'Aufgaben zerlegen',
    'card-habits': 'Gewohnheiten',
    'card-routine': 'Routine',
    'card-focus': 'Fokusmodus',
    'card-rewards': 'Belohnungen',
    'pomodoro-heading': 'Pomodoro-Timer',
    'pomodoro-text': 'Die Pomodoro-Technik hilft dir, mit der Zeit zu arbeiten. Teile den Arbeitstag in 25-Minuten-Abschnitte mit fünfminütigen Pausen.',
    'eisenhower-heading': 'Eisenhower-Matrix',
    'eisenhower-text': 'Priorisiere deine Aufgaben nach Wichtigkeit und Dringlichkeit, um dich auf das Wesentliche zu konzentrieren.',
    'planner-heading': 'Tagesplaner',
    'planner-text': 'Visualisiere deinen Tag in Zeitblöcken für ein besseres Zeitmanagement.',
    'calendar-heading': 'Kalender',
    'calendar-text': 'Importiere Termine aus ICS-Dateien und verwalte sie mit anderen Werkzeugen.',
    'calendar-voice-label': 'Sprachbenachrichtigungen',
    'calendar-voice-early-label': 'Minuten vorher:',
    'calendar-announcement-now': 'Termin "{title}" beginnt jetzt.',
    'calendar-announcement-soon': 'Termin "{title}" beginnt in {minutes} Minuten.',
    'tasks-heading': 'Aufgabenmanager',
    'tasks-text': 'Behalte deine Aufgaben mit Prioritäten und Kategorien im Blick, damit nichts untergeht.',
    'breakdown-heading': 'Aufgaben zerlegen',
    'breakdown-text': 'Zerlege komplexe Aufgaben in kleinere Schritte, um Überforderung zu vermeiden und Fortschritte sichtbar zu machen.',
    'habits-heading': 'Gewohnheiten',
    'habits-text': 'Baue Regelmäßigkeit mit täglichem Tracking auf und behalte deinen Fortschritt im Blick.',
    'focus-heading': 'Fokusmodus',
    'focus-text': 'Minimiere Ablenkungen mit einer schlanken Oberfläche für konzentriertes Arbeiten.',
    'rewards-heading': 'Belohnungen',
    'rewards-text': 'Feiere deine Erfolge mit visuellen Belohnungen und erhöhe deine Motivation.',
    'about-heading': 'Über den ADHS Werkzeugkasten',
    'about-text': 'Der ADHS Werkzeugkasten ist eine Sammlung interaktiver Tools, die Menschen mit ADHS bei Produktivität und Fokus unterstützen.',
    'about-privacy-heading': 'Datenschutz',
    'about-privacy-text': 'Alle Daten werden lokal im Browser gespeichert und nicht an einen Server gesendet.',
    'about-feedback-heading': 'Feedback',
    'about-feedback-text': 'Wir arbeiten ständig an Verbesserungen. Wenn du Vorschläge hast, lass es uns wissen!',
    'routine-heading': 'Routine',
    'routine-text': 'Erstelle und verwalte tägliche Routinen mit zeitgesteuerten Aufgaben.',
    'routine-run-btn': 'Routine starten',
    'routine-manage-btn': 'Routinen verwalten',
    'routine-manage-heading': 'Routinen erstellen und verwalten',
    'routine-name-label': 'Routinenname:',
    'routine-create-btn': 'Erstellen',
    'routine-select-label': 'Routine wählen:',
    'routine-add-tasks-heading': 'Aufgaben hinzufügen',
    'routine-task-name-label': 'Aufgabenname:',
    'routine-task-duration-label': 'Dauer (Minuten):',
    'routine-add-task-btn': 'Hinzufügen',
    'routine-start-time-label': 'Automatische Startzeit (optional):',
    'routine-set-time-btn': 'Zeit setzen',
    'routine-active-heading': 'Aktive Routine',
    'routine-none-active': 'Keine Routine ausgewählt',
    'routine-finish-time': 'Voraussichtliches Ende: <span id="expected-finish-time">-</span>',
    'routine-start-btn': 'Ausgewählte Routine starten',
    'routine-current-task': 'Aktuelle Aufgabe: <span id="current-task-name">-</span>',
    'routine-time-left': 'Verbleibende Zeit: <span id="current-task-time-left">-</span>',
    'routine-instruction': 'Tippe oder drücke die Leertaste, um die Aufgabe zu beenden.',
    'footer-text': '&copy; 2025 ADHS Werkzeugkasten. Alle Daten werden lokal gespeichert.'
  },
  es: {
    'site-title': 'Herramientas TDAH',
    'tagline': 'Herramientas interactivas para gestionar los síntomas del TDAH y mejorar la productividad',
    'nav-home': 'Inicio',
    'nav-pomodoro': 'Temporizador Pomodoro',
    'nav-eisenhower': 'Matriz Eisenhower',
    'nav-planner': 'Planificador',
    'nav-calendar': 'Calendario',
    'nav-tasks': 'Gestor de tareas',
    'nav-breakdown': 'Desglose de tareas',
    'nav-habits': 'Seguimiento de hábitos',
    'nav-routine': 'Rutinas',
    'nav-focus': 'Modo Focus',
    'nav-rewards': 'Recompensas',
    'nav-about': 'Acerca de',
    'home-heading': 'Bienvenido a Herramientas TDAH',
    'home-text': 'Este sitio ofrece herramientas interactivas para ayudar a las personas con TDAH a gestionar sus síntomas, mejorar la productividad y aumentar el enfoque.',
    'card-pomodoro': 'Temporizador Pomodoro',
    'card-eisenhower': 'Matriz Eisenhower',
    'card-planner': 'Planificador',
    'card-calendar': 'Calendario',
    'card-tasks': 'Gestor de tareas',
    'card-breakdown': 'Desglose',
    'card-habits': 'Hábitos',
    'card-routine': 'Rutinas',
    'card-focus': 'Modo Focus',
    'card-rewards': 'Recompensas',
    'pomodoro-heading': 'Temporizador Pomodoro',
    'pomodoro-text': 'La técnica Pomodoro te ayuda a trabajar con el tiempo. Divide tu jornada en bloques de 25 minutos con descansos de cinco minutos.',
    'eisenhower-heading': 'Matriz Eisenhower',
    'eisenhower-text': 'Prioriza tus tareas según su importancia y urgencia para centrarte en lo esencial.',
    'planner-heading': 'Planificador',
    'planner-text': 'Visualiza tu día con bloques de tiempo para gestionarlo mejor.',
    'calendar-heading': 'Calendario',
    'calendar-text': 'Importa eventos en formato ICS y gestiónalos con otras herramientas.',
    'calendar-voice-label': 'Alertas de voz',
    'calendar-voice-early-label': 'Minutos antes:',
    'calendar-announcement-now': 'El evento "{title}" comienza ahora.',
    'calendar-announcement-soon': 'El evento "{title}" comienza en {minutes} minutos.',
    'tasks-heading': 'Gestor de tareas',
    'tasks-text': 'Lleva un seguimiento de tus tareas con prioridades y categorías para que nada se pierda.',
    'breakdown-heading': 'Desglose de tareas',
    'breakdown-text': 'Divide tareas complejas en pasos pequeños para reducir la sobrecarga y ver el progreso.',
    'habits-heading': 'Seguimiento de hábitos',
    'habits-text': 'Construye constancia con un seguimiento diario y visualiza tu progreso.',
    'focus-heading': 'Modo Focus',
    'focus-text': 'Minimiza las distracciones con una interfaz limpia para un trabajo profundo.',
    'rewards-heading': 'Recompensas',
    'rewards-text': 'Celebra tus logros con recompensas visuales para motivarte.',
    'about-heading': 'Acerca de Herramientas TDAH',
    'about-text': 'Herramientas TDAH es una colección de recursos interactivos que ayudan a gestionar síntomas y mejorar la productividad.',
    'about-privacy-heading': 'Privacidad',
    'about-privacy-text': 'Todos los datos se almacenan localmente en tu navegador. Nada se envía a ningún servidor.',
    'about-feedback-heading': 'Comentarios',
    'about-feedback-text': 'Trabajamos continuamente para mejorar estas herramientas. ¡Envíanos tus sugerencias!',
    'routine-heading': 'Rutinas',
    'routine-text': 'Crea y ejecuta rutinas diarias con tareas cronometradas.',
    'routine-run-btn': 'Iniciar rutina',
    'routine-manage-btn': 'Gestionar rutinas',
    'routine-manage-heading': 'Crear y gestionar rutinas',
    'routine-name-label': 'Nombre de la rutina:',
    'routine-create-btn': 'Crear',
    'routine-select-label': 'Seleccionar rutina:',
    'routine-add-tasks-heading': 'Añadir tareas',
    'routine-task-name-label': 'Nombre de la tarea:',
    'routine-task-duration-label': 'Duración (minutos):',
    'routine-add-task-btn': 'Añadir',
    'routine-start-time-label': 'Hora de inicio automática (opcional):',
    'routine-set-time-btn': 'Definir hora',
    'routine-active-heading': 'Rutina activa',
    'routine-none-active': 'Ninguna rutina seleccionada',
    'routine-finish-time': 'Hora de finalización prevista: <span id="expected-finish-time">-</span>',
    'routine-start-btn': 'Iniciar rutina seleccionada',
    'routine-current-task': 'Tarea actual: <span id="current-task-name">-</span>',
    'routine-time-left': 'Tiempo restante: <span id="current-task-time-left">-</span>',
    'routine-instruction': 'Toca la pantalla o presiona ESPACIO para marcar la tarea como completada.',
    'footer-text': '&copy; 2025 Herramientas TDAH. Todas las herramientas son gratuitas y los datos se almacenan en tu navegador.'
  }
};

// expose translations for other modules
if (typeof window !== 'undefined') {
  window.translations = translations;
}

function applyTranslations(lang) {
  const dict = translations[lang] || translations.en;
  document.documentElement.lang = lang;
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    const txt = dict[key];
    if (txt) {
      el.innerHTML = txt;
    }
  });
}

document.addEventListener('DOMContentLoaded', () => {
  const select = document.getElementById('language-select');
  if (!select) return;
  const saved = localStorage.getItem('adhd-lang') || 'en';
  select.value = saved;
  applyTranslations(saved);
  select.addEventListener('change', () => {
    const lang = select.value;
    localStorage.setItem('adhd-lang', lang);
    applyTranslations(lang);
  });
});
